# 動作検証

## 管理側

### オプショナルリンク設定一覧画面
新規追加ボタンから、設定の追加画面に遷移できる, [OK]
→ 追加設定可能なブログが存在しない場合、追加不可のメッセージが表示される, [OK]
公開ボタンから、設定を無効状態に切り換えることができる, [OK]
非公開ボタンから、設定を有効状態に切り換えることができる, [OK]
確認ボタンから、ブログ設定編集画面に遷移できる, [OK]
編集ボタンから、設定の編集画面に遷移できる, [OK]
削除ボタンから、設定を削除できる, [OK]
→ 削除確認のアラートが表示される, [OK]
→ アラートで「OK」を選択すると、削除した設定が、一覧表示から削除される, [OK]

#### 検索
画面右上の「検索」をクリックすると、検索欄が表示される, [OK]
「ブログ」を指定して検索できる, [OK]
→ 一覧画面に、指定したブログの設定が表示される, [OK]
「利用状態」を指定して検索できる, [OK]
→ 一覧画面に、指定した利用状態の設定が表示される, [OK]
検索欄が表示されている状態で、画面右上の「検索」をクリックすると、検索欄が非表示化される, [OK]

#### ヘルプ
画面右上の「ヘルプ」をクリックすると、ヘルプ説明が表示される, [OK]
ヘルプが表示されている状態で、画面右上の「ヘルプ」をクリックすると、ヘルプ説明が非表示化される, [OK]

#### サブメニュー
「オプショナルリンク設定一覧」から、オプショナルリンク設定一覧画面に遷移できる, [OK]


### オプショナルリンク設定追加画面
ブログを指定し、設定を新規追加できる, [OK]

#### サブメニュー
「オプショナルリンク設定一覧」から、オプショナルリンク設定一覧画面に遷移できる, [OK]


### オプショナルリンク設定編集画面
設定を編集できる, [OK]
設定に紐づくブログコンテンツ設定編集画面に遷移できる, [OK]
設定に紐づくブログコンテンツのブログ記事一覧画面に遷移できる, [OK]

#### サブメニュー
「オプショナルリンク設定一覧」から、オプショナルリンク設定一覧画面に遷移できる, [OK]

### ブログ記事追加画面
記事に対して「利用しない」が設定できる, [OK]
記事に対して「URL」が設定できる, [OK]
・「URL」を設定すると「別ウィンドウ（タブ）で開く」指定ができる, [OK]
・「URL」を設定すると、ブログ記事詳細編集領域が隠れ、プレビューボタンが利用不可となる, [OK]
　→ プレビューボタン下部に、プレビュー不可の案内文が表示される, [OK]
記事に対して「ファイル」をアップロードして設定できる, [OK]
記事に対して「ファイル」を設定すると、ファイルの公開期間指定ができる, [OK]
・「ファイル」を設定すると、ファイルの公開開始日時が設定できる, [OK]
・「ファイル」を設定すると、ファイルの公開終了日時が設定できる, [OK]
・「ファイル」を設定すると、ブログ記事詳細編集領域が隠れ、プレビューボタンが利用不可となる, [OK]
　→ プレビューボタン下部に、プレビュー不可の案内文が表示される, [OK]
記事に対して「リンクなし」が設定できる, [OK]
・「リンクなし」を設定すると、ブログ記事詳細編集領域が隠れ、プレビューボタンが利用不可となる, [OK]
　→ プレビューボタン下部に、プレビュー不可の案内文が表示される, [OK]

#### 「ファイル指定」を利用する
公開期限を定めない場合、ファイルが /files/optionallink/ 内に上がること, [OK]
公開期限を定めた場合、ファイルが /files/optionallink/limited/ 内に上がること, [OK]

### ブログ記事編集画面
記事に対して「利用しない」が設定できる, [OK]
記事に対して「URL」が設定できる, [OK]
・「URL」を設定すると「別ウィンドウ（タブ）で開く」指定ができる, [OK]
・「URL」を設定すると、ブログ記事詳細編集領域が隠れ、プレビューボタンが利用不可となる, [OK]
　→ プレビューボタン下部に、プレビュー不可の案内文が表示される, [OK]
記事に対して「ファイル」をアップロードして設定できる, [OK]
記事に対して「ファイル」を設定すると、ファイルの公開期間指定ができる, [OK]
・「ファイル」を設定すると、ファイルの公開開始日時が設定できる, [OK]
・「ファイル」を設定すると、ファイルの公開終了日時が設定できる, [OK]
・「ファイル」を設定すると、ブログ記事詳細編集領域が隠れ、プレビューボタンが利用不可となる, [OK]
　→ プレビューボタン下部に、プレビュー不可の案内文が表示される, [OK]
記事に対して「リンクなし」が設定できる, [OK]
・「リンクなし」を設定すると、ブログ記事詳細編集領域が隠れ、プレビューボタンが利用不可となる, [OK]
　→ プレビューボタン下部に、プレビュー不可の案内文が表示される, [OK]

#### 「ファイル指定」を利用する
「ファイル指定」で公開期限を定めていない記事を編集し、記事作成時と違うファイルを「ファイル指定」で公開期限を定めずに保存した場合、/files/optionallink/ 内のファイルが上書きされること, [OK]

「ファイル指定」で公開期限を定めている記事を編集し、記事作成時と違うファイルを「ファイル指定」で公開期限を定めて保存した場合、/files/optionallink/limited/ 内のファイルが上書きされること, [OK]

「ファイル指定」で公開期限を定めていない記事を編集し、記事作成時と違うファイルを「ファイル指定」で公開期限を定めて保存した場合、古いファイルが /files/optionallink/ から削除されること＋新しいファイルが /files/optionallink/limited/ 内に上がること, [OK]

「ファイル指定」で公開期限を定めている記事を編集し、記事作成時と違うファイルを「ファイル指定」で公開期限を定めずに保存した場合、古いファイルが /files/optionallink/limited/ から削除されること＋新しいファイルが /files/optionallink/ 内に上がること, [OK]

「ファイル指定」を使用していない記事を編集し、「ファイル指定」で公開期限を定めずに保存した場合、ファイルが /files/optionallink/ 内に上がること, [OK]

「ファイル指定」を使用していない記事を編集し、「ファイル指定」で公開期限を定めて保存した場合、ファイルが /files/optionallink/limited/ 内に上がること, [OK]

「ファイル指定」で公開期限を定めていない記事を編集し、ファイルを削除した場合、ファイルが /files/optionallink/ から削除されること, [OK]

「ファイル指定」で公開期限を定めている記事を編集し、ファイルを削除した場合、ファイルが /files/optionallink/limited/ から削除されること, [OK]


### ブログ記事編集画面: 「ファイル指定」されている記事削除時
「ファイル指定」で公開期限を定めていない記事を削除した場合、ファイルが /files/optionallink/ から削除されること, [OK]
「ファイル指定」で公開期限を定めている記事を削除した場合、ファイルが /files/optionallink/limited/ から削除されること, [OK]


### ブログ記事一覧画面
URL指定したブログ記事複製時、記事が正しく複製される, [OK]
→ オプショナルリンク側のデータも複製される, [OK]
URL指定したブログ記事複製後、記事の公開ボタンでの非公開指定が正しく行われる, [OK]
URL指定したブログ記事複製後、記事の非公開ボタンでの公開指定が正しく行われる, [OK]
ファイル指定したブログ記事複製時、記事が正しく複製される, [OK]
→ オプショナルリンク側のデータも複製される, [OK]
ファイル指定したブログ記事複製後、記事の公開ボタンでの非公開指定が正しく行われる, [OK]
ファイル指定したブログ記事複製後、記事の非公開ボタンでの公開指定が正しく行われる, [OK]

### ブログ記事一覧画面: 「ファイル指定」されている記事一括削除時
「ファイル指定」で公開期限を定めている記事の一括削除を行った場合、公開期限を定めたファイルは /files/optionallink/limited/ から削除されること, [OK]

「ファイル指定」で公開期限を定めていない記事の一括削除を行った場合、公開期限を定めていないファイルは /files/optionallink/ から削除されること, [OK]

「ファイル指定」で公開期限を定めている記事・定めていない記事が混在している状態でブログ記事の一括削除を行った場合、公開期限を定めたファイルは /files/optionallink/limited/ から削除されること＋公開期限を定めていないファイルは /files/optionallink/ から削除されること, [OK]

### ブログ記事一覧画面: 「ファイル指定」されている記事複製時
「ファイル指定」で公開期限を定めていない記事をコピーした場合、ファイルが /files/optionallink/ に複製されること, [OK]
→ ファイル名がコピー先の記事のIDとなっていること, [OK]
「ファイル指定」で公開期限を定めている記事をコピーした場合、ファイルが /files/optionallink/limited/ に複製されること, [OK]
→ ファイル名がコピー先の記事のIDとなっていること, [OK]


## 公開側
URL設定している記事に対しての遷移時、指定したURLに遷移する, [OK]
URL設定し「別ウィンドウで開く」指定している記事に対しての遷移時、指定したURLが別ウィンドウで遷移する, [OK]
ファイル設定している記事に対しての遷移時、指定したファイルが別ウィンドウで表示される, [OK]
URL設定している記事詳細URLを直接開いた場合、設定中のURLに遷移する, [OK]

ファイル設定し、公開期間を指定している場合、記事詳細へのリンクが期間指定に沿って有効・無効となる, [OK]
・公開開始日時が現在より前の場合、ファイルへのリンクとなる, [OK]
・公開開始日時が現在より後の場合、ファイルへのリンクとならない, [OK]
・公開終了日時が現在より前の場合、ファイルへのリンクとならない, [OK]
・公開終了日時が現在より後の場合、ファイルへのリンクとなる, [OK]
